/*!
 * JLineJS
 *
 * @version 1.2.3
 * @author J-LINE CORPORATION
 * @requires jQuery 1.7.0+
 */
;(function($,o,p,q){var r={};r.version='1.2.3';o.trace=o.trace||o.console?function(a){o.console.log(a)}:function(){};r.cssProp=(function(){var e={element:p.createElement('div'),vendor:(/webkit/i).test(navigator.appVersion)?['webkit','-webkit-']:(/firefox/i).test(navigator.userAgent)?['Moz','-moz-']:(/msie/i).test(navigator.userAgent)?['ms','-ms-']:'opera'in o?['O','-o-']:'',transitionEvent:{webkit:'webkitTransitionEnd',Moz:'transitionend',ms:'MSTransitionEnd',O:'otransitionend'}};function cssProp(b,c){var d=c===q?0:c?0:1,element=e.element,is3d=b==='transform-3d',prop;if(e.hasOwnProperty(b)){return e[b][d]}if(b.toLowerCase()==='transitionend'){if(cssProp('transition')===q){return q}return e.transitionEvent[e.vendor[0]]}b=is3d?'transform':b;prop=b.replace(/-./g,function(m){return m.charAt(1).toUpperCase()});if(prop in element.style){if(!is3d){e[b]=[prop,b];return e[b][d]}else{element.style[prop]='';element.style[prop]='rotateY(100deg)';if(element.style[prop]===''){e['transform-3d']=[q,q]}else{e['transform-3d']=[prop,b]}return e['transform-3d'][d]}}prop=e.vendor[0]+prop.replace(/./,function(a){return a.toUpperCase()});if(prop in element.style){if(!is3d){e[b]=[prop,e.vendor[1]+b];return e[b][d]}else{element.style[prop]='';element.style[prop]='rotateY(100deg)';if(element.style[prop]===''){e['transform-3d']=[q,q]}else{e['transform-3d']=[prop,e.vendor[1]+b]}return e['transform-3d'][d]}}e[b]=[q,q];return q}return cssProp})();r.supports=function(a){if($.type(a)==='string'){return r.cssProp(a)!==q}var i=a.length;for(;i--;){if(r.cssProp(a[i])===q){return false}}return true};var t=navigator.userAgent;r.browser={Mac:!!t.match(/Mac/i),ltIE6:o.addEventListener===q&&p.documentElement.style.maxHeight===q,ltIE7:o.addEventListener===q&&p.querySelectorAll===q,ltIE8:o.addEventListener===q&&p.getElementsByClassName===q,ltIE9:!!p.uniqueID&&o.matchMedia===q,gtIE10:!!p.uniqueID&&!!o.matchMedia,firefox:!!o.sidebar,opera:!!o.opera,safari:!!t.match(/safari/i)&&!t.match(/Chrome/i),chrome:!!t.match(/Chrome/i),webkit:!p.uniqueID&&!o.opera&&!o.sidebar&&o.localStorage&&o.orientation===q,mobile:o.orientation!==q,smartphone:!!navigator.userAgent.match(/Android/i)||!!navigator.userAgent.match(/BlackBerry/i)||!!navigator.userAgent.match(/iPhone|iPad|iPod/i)||!!navigator.userAgent.match(/IEMobile/i),android:!!t.match(/Android/i),blackberry:!!t.match(/BlackBerry/i),iOS:!!t.match(/iPhone|iPad|iPod/i),iPhone:!!t.match(/iPhone/i),iPad:!!t.match(/iPad/i),iPod:!!t.match(/iPod/i),windowsPhone:!!t.match(/IEMobile/i)};r.truncate=function(a,b,c,d){var e=0,str=a,i,len=a.length;if(d){for(i=0;i<len;i++){if(a.charCodeAt(i)<=255){e+=1}else{e+=2}if(Math.ceil(e/2)>b){str=a.substr(0,i)+c;break}}}else{for(i=0;i<len;i++){if(i>=b){str=a.substr(0,i)+c;break}}}return str};r.random=function(a,b){return a+Math.floor(Math.random()*(b-a+1))};r.comma=function(a){return a.toString().replace(/([0-9]+?)(?=(?:[0-9]{3})+$)/g,'$1,')};r.shuffle=function(a,b){b=b===q?true:b;var c=a.length,ary=b?a.concat():a,m,n;while(c){m=Math.floor(Math.random()*c);n=ary[--c];ary[c]=ary[m];ary[m]=n}return ary};r.createClass=function(a,b){var c,F,i;c=function(){if(c.uber&&c.uber.hasOwnProperty('_init')){c.uber._init.apply(this,arguments)}if(c.prototype.hasOwnProperty('_init')){c.prototype._init.apply(this,arguments)}};a=a||Object;F=function(){};F.prototype=a.prototype;c.prototype=new F();c.uber=a.prototype;c.prototype.constructor=c;for(i in b){if(b.hasOwnProperty(i)){c.prototype[i]=b[i]}}return c};r.findFirstImg=function(a){var b=a.match(/\<img(.*?)src=\"?([\-_\.\!\~\*\'\(\)a-z0-9\;\/\?\:@&=\+\$\,\%\#]+(jpg|jpeg|gif|png|bmp))/i);return b?b[2].toString():''};r.FileLoader=function(){this.numPipes=6;this.numImages=0;this.numLoadings=0;this.numLoaded=0;this.aborted=false;this.event={COMPLETE:'complete',ERROR:'error',PROGRESS:'progress'};this.callbacks={};for(var a in this.event){this.callbacks[this.event[a]]=new r.Callbacks()}this.registerList=[];this.finishedList=[]};r.FileLoader.prototype={addFile:function(a){if($.type(a)==='object'){this.registerList.push(a)}else{this.registerList.push({src:a,extra:null})}},addFileList:function(a){var i=0;var b=a.length;for(;i<b;i++){var c=a[i];if($.type(c)==='object'){c.extra=c.extra===q?null:c.extra;var d={};for(var e in c){if(c.hasOwnProperty(e)){d[e]=c[e]}}c=d}else if($.type(c)==='string'){c={src:c,extra:null}}else{continue}this.registerList.push(c)}},addListener:function(a,b){this.callbacks[a].add(b,this)},removeListener:function(a,b){this.callbacks[a].remove(b)},start:function(){this.numImages=this.registerList.length;if(this.numImages===0){this.callbacks.complete.fire({type:this.event.COMPLETE,data:[]});return}var i=0;for(;i<this.numImages;i++){this.registerList[i].id=i}i=0;var a=this.numLoadings=Math.min(this.numPipes,this.numImages);for(;i<a;i++){this._load(this.registerList[i])}},abort:function(){this.aborted=true},_next:function(){if(this.numImages===this.numLoaded){this.callbacks.complete.fire({type:this.event.COMPLETE,data:this.finishedList})}else if(this.numLoadings<this.numImages){this._load(this.registerList[this.numLoadings]);this.numLoadings++}},_load:function(a){var b=this,img=a.img=new Image();img.onload=function(){setTimeout(function(){if(b.aborted)return;b.numLoaded++;a.result='success';b.finishedList[a.id]=a;b.callbacks.progress.fire({type:b.event.PROGRESS,target:a,percent:b.numLoaded/b.numImages*100|0});b._next()},25)};img.onerror=function(){setTimeout(function(){if(b.aborted)return;b.numLoaded++;a.result='error';b.finishedList[a.id]=a;b.callbacks.error.fire({type:b.event.ERROR,target:a});b._next()},25)};img.src=a.src||'none'}};r.AssetLoader=function(){this.loader=new r.FileLoader();this.assets={};this.event={COMPLETE:'complete',ERROR:'error',PROGRESS:'progress'};this.callbacks={};for(var a in this.event){this.callbacks[this.event[a]]=new r.Callbacks()}};r.AssetLoader.prototype={getAsset:function(a){return this.assets[a]},addAsset:function(a,b){if($.type(b)==='object'){b=[b]}else if($.type(b)==='string'){b=[{src:b}]}b=b.concat();var i=b.length;for(;i--;){if($.type(b[i])==='string'){b[i]={src:b[i]}}b[i].name=a}this.assets[a]=b},addListener:function(a,b){this.callbacks[a].add(b,this)},removeListener:function(a,b){this.callbacks[a].remove(b)},start:function(){var d=[];for(var f in this.assets){if(this.assets.hasOwnProperty(f)){d=d.concat(this.assets[f])}}var g=this;this.loader.addFileList(d);this.loader.addListener(this.event.COMPLETE,function(e){var a=e.data;for(var b in g.assets){if(g.assets.hasOwnProperty(b)){var c=[];for(var i=0;i<a.length;i++){if(a[i].name===b){c.push(a[i])}}g.assets[b]=c}}g.callbacks[g.event.COMPLETE].fire(e)});this.loader.addListener(this.event.ERROR,function(e){g.callbacks[g.event.ERROR].fire(e)});this.loader.addListener(this.event.PROGRESS,function(e){g.callbacks[g.event.PROGRESS].fire(e)});this.loader.start()}};r.Callbacks=function(){this.list=[]};r.Callbacks.prototype={add:function(a,b){this.list.push({callback:a,context:b===q?this:b})},remove:function(a){var i=this.list.length;for(;i--;){if(this.list[i].callback===a){this.list.splice(i,1);return}}},fire:function(a){var i=this.list.length;var s;for(;i--;){s=this.list[i];s.callback.call(s.context,a)}}};r.Stack=function(){this.stackArray=[]};r.Stack.prototype={empty:function(){return this.stackArray.length===0},size:function(){return this.stackArray.length},push:function(a){this.stackArray.push(a)},pop:function(){if(this.empty()){return q}else{return this.stackArray.pop()}},peek:function(){if(this.empty()){return q}else{return this.stackArray[this.size()-1]}},getArrayCopy:function(){return this.stackArray.concat()}};r.Queue=function(){this.queueArray=[]};r.Queue.prototype={empty:function(){return this.queueArray.length===0},size:function(){return this.queueArray.length},enqueue:function(a){this.queueArray.push(a)},dequeue:function(){if(this.empty()){return q}else{return this.queueArray.shift()}},peek:function(){if(this.empty()){return q}else{return this.queueArray[0]}},getArrayCopy:function(){return this.queueArray.concat()}};r.SerialList=function(){this.now=0;this.running=false;this.commandList=[]};r.SerialList.prototype={addCommand:function(){var i=0;var a=arguments.length;if(!a)return;for(;i<a;i++){this.commandList.push(arguments[i])}},execute:function(){if(this.running)return;this.running=true;this._call()},destroy:function(){for(var a in this){if(this.hasOwnProperty(a)){this[a]=null}}},_call:function(){var a=this;var b=a.commandList[a.now];if($.type(b)==='array'){var c=0;var d=0;for(var i=0;i<b.length;i++){b[i].done=function(){c++;if(c===b.length){a._done()}};setTimeout(function(){b[d].run();d++},16)}}else{b.done=function(){a._done()};b.run()}},_done:function(){this.now++;if(this.now<this.commandList.length){this._call()}else{this.now=0;this.running=false}}};r.Wait=function(a){this.done=function(){};this.interval=a};r.Wait.prototype={run:function(){var a=this;setTimeout(function(){a.done()},a.interval)}};r.Func=function(a,b){this.done=function(){};this.func=a;this.context=b||this};r.Func.prototype={run:function(){this.func.call(this.context);this.done()}};r.CSS=function(a,b){this.done=function(){};this.target=a instanceof jQuery?a:$(a);this.styles=b};r.CSS.prototype={run:function(){this.target.css(this.styles);this.done()}};r.Animate=function(a,b,c,d,e){this.done=function(){};this.$target=a instanceof jQuery?a:$(a);this.params=b;this.duration=c!==q?c:'normal';this.easing=d!==q?d:'linear';this.callback=e!==q?e:function(){}};r.Animate.prototype={run:function(){var a=this;a.$target.animate(a.params,a.duration,a.easing).promise().done(function(){a.callback.call(this);a.done()})}};r.Collection=function(a){this._list=a||[]};r.Collection.prototype={add:function(a){this._list.push(a)},getItemAt:function(a){return this._list[a]},getLength:function(){return this._list.length},createIterator:function(){return new r.Iterator(this)}};r.Iterator=function(a){this._collection=a;this._index=0};r.Iterator.prototype={setIndex:function(a){this._index=a},getIndex:function(){return this._index},getItemAt:function(a){return this._collection.getItemAt(a)},current:function(){return this._collection.getItemAt(this._index)},currentNext:function(){return this._collection.getItemAt(this._index+1)},currentPrev:function(){return this._collection.getItemAt(this._index-1)},next:function(){if(this.hasNext()){return this._collection.getItemAt(++this._index)}else{return q}},prev:function(){if(this.hasPrev()){return this._collection.getItemAt(--this._index)}else{return q}},hasNext:function(){return this._index<this._collection.getLength()-1},hasPrev:function(){return this._index>0},currentLoopNext:function(){if(this.hasNext()){return this.currentNext()}else{return this._collection.getItemAt(0)}},currentLoopPrev:function(){if(this.hasPrev()){return this.currentPrev()}else{return this._collection.getItemAt(this._collection.getLength()-1)}},loopNext:function(){if(this.hasNext()){return this.next()}else{this._index=0;return this.current()}},loopPrev:function(){if(this.hasPrev()){return this.prev()}else{this._index=this._collection.getLength()-1;return this.current()}}};r.set=function(){var a=['rollover','smoothScroll','slider'];var i=arguments.length;var j,len=a.length;var b;for(;i--;){b=arguments[i];if(r.hasOwnProperty(b)){for(j=0;j<len;j++){if(b===a[j]){r[b]()}}}}return this};r.preload=function(a,b){b=b!==q?b:function(){};if(a.length===0){b(a);return this}var c=new r.FileLoader();c.addListener('complete',function(e){b(e.data)});if($.type(a)==='string'){c.addFile(a)}else{c.addFileList(a)}c.start();return this};r.smoothScroll=function(g,h,i){var d=500;var e='swing';var c=function(){};var j={duration:d,easing:e,callback:c,disableClassName:''};var k;var l=$((navigator.userAgent.indexOf('Opera')!==-1)?p.compatMode==='BackCompat'?'body':'html':'html,body');var m='ontouchstart'in o?'touchend':'click';if($.type(g)==='object'){k=$.extend({},j,g)}else{k={duration:$.type(g)==='number'?g:d,easing:$.type(g)==='string'?g:$.type(h)==='string'?h:e,callback:$.type(g)==='function'?g:$.type(h)==='function'?h:$.type(i)==='function'?i:c,disableClassName:''}}$(p).on(m,'a[href^=#]',(function(){var f;if(k.disableClassName===''){f=function(){var a=this;var b=a.hash;var c=true;var d=$(b).offset();var e=d!==q?d.top|0:0;l.stop(true).animate({scrollTop:e},k.duration,k.easing,function(){if(c){k.callback.call(a);c=false}});return false}}else{f=function(){if($(this).hasClass(k.disableClassName)){return true}var a=this;var b=a.hash;var c=true;var d=$(b).offset();var e=d!==q?d.top|0:0;l.stop(true).animate({scrollTop:e},k.duration,k.easing,function(){if(c){k.callback.call(a);c=false}});return false}}return f})())};r.rollover=function(e){var f={target:'.over',currentClassName:'current',preload:true,suffix:'_on'};if($.type(e)==='object'){f=$.extend(f,e)}var g=f.target instanceof jQuery?f.target:$(f.target);g.each(function(a,b){if(b.tagName.toLowerCase()!=='img'){return}var c=$(b);if(c.data('jlinerollover')){return}else{c.data('jlinerollover',true)}var d=c.attr('src'),srcOver=d.replace(/(.+)(\..+)/,'$1'+f.suffix+'$2'),overHandler=function(){c.attr('src',srcOver)},outHandler=function(){c.attr('src',d)};if(f.preload){new Image().src=srcOver}if(c.hasClass(f.currentClassName)){overHandler()}else{c.hover(overHandler,outHandler)}});return this};r.placeholder=function(d,e,f){var g=d instanceof jQuery?d:$(d),msg=e||'入力してください',focusCN=f||'jline_placeholder_focus';g.each(function(a,b){if(b.tagName.toLowerCase()!=='input'){return}var c=$(b);c.on({focus:function(){if(c.val()===msg){c.addClass(focusCN).val('')}},blur:function(){if(c.val()===''){c.removeClass(focusCN).val(msg)}}}).blur().parents('form').on('submit',function(){if(c.val()===msg){return false}})});return this};r.ClogRSS=function(a){this.options={target:'#rss',api:'',rss:'',params:{},append:true,duration:500,callback:function(){}};this.options=$.extend(this.options,a);this.callback=function(){};this.htmlArray=[];this.url='';this.script=null;this.$target=this.options.target instanceof jQuery?this.options.target:$(this.options.target)};r.ClogRSS.prototype={load:function(){var b=this;var c=this.options;p.write=function(a){b._addHTMLString(a)};if(c.rss!==''){this.url=c.api+'?rdf='+c.rss;for(var d in c.params){if(c.params.hasOwnProperty(d)){this.url+='&'+d+'='+c.params[d]}}}else{this.url=c.api}this.script=p.createElement('script');this.script.type='text/javascript';if(this.script.readyState){this.script.onreadystatechange=function(){if(b.script.readyState==='loaded'||b.script.readyState==='complete'){b._setElements()}}}else{this.script.onload=function(){b._setElements()}}this.script.src=this.url;p.getElementsByTagName('head')[0].appendChild(this.script)},_addHTMLString:function(a){var b=a.replace(/\r\n/g,'');b=a.replace(/\n/g,'');this.htmlArray.push(b)},_setElements:function(){if(this.options.append){this.$target.empty().hide().html(this.htmlArray.join('')).fadeIn(this.options.duration)}$(this.script).remove();this.options.callback.call(this.$target[0],this.htmlArray);this.callback()}};var u={};u.running=false;u.queue=new r.Queue();u.docWrite=function(){};r.clogRSS=function(a){var b=u.queue;var c=new r.ClogRSS(a);c.callback=function(){if(b.empty()){p.write=u.docWrite;u.running=false}else{b.dequeue().load()}};b.enqueue(c);if(!u.running){u.running=true;u.docWrite=p.write;b.dequeue().load()}};$.fn.jlAccordion=function(e){var f=e;var g='ontouchstart'in o?'touchend':'click';var h='is-open';var i=this;var j=function(d){i.each(function(a,b){var c=$(b);if(c.hasClass(h)){c.removeClass(h).find(f.body).stop(true,true).slideUp({duration:f.duration,easing:f.easing})}else{if($.contains(c[0],d)){c.addClass(h).find(f.body).stop(true,true).slideDown({duration:f.duration,easing:f.easing})}}})};return this.each(function(){var c=$(this);if(!c.hasClass(h)){c.find(f.body).hide()}c.find(f.label).on(g,function(){var a=$(this).parent(f.container);var b=a.find(f.body);if(f.group){j(this)}else{if(a.hasClass(h)){b.stop(true).slideUp({duration:f.duration,easing:f.easing});a.removeClass(h)}else{b.stop(true).slideDown({duration:f.duration,easing:f.easing});a.addClass(h)}}})})};r.accordion=function(a){var b={container:'.accordion',label:'.accordion_label',body:'.accordion_body',group:false,duration:300,easing:'swing'};b=$.extend(b,a);$(b.container).jlAccordion(b)};r.slider=function(c){var d={target:'#jlslider',type:0,interval:3000,duration:500,easing:'swing'};d=$.extend(d,c);var e=d.target instanceof jQuery?d.target:$(d.target);var w=parseInt(e.css('width'));var h=parseInt(e.css('height'));var f=0;var g=0;var j=[];var k=[function(a){var i=g;for(;i--;){j[i].animate({left:((a*w)-(i*w))*-1},d.duration,d.easing)}},function(a){j[a].fadeOut(0).appendTo(e).fadeIn(d.duration)}];e.css({display:'block',position:'relative',overflow:'hidden'}).children().each(function(a,b){j[a]=$(b).css({display:'block',position:'absolute',top:0,left:d.type===1?0:w*a,width:w,height:h});g+=1});if(j.length===0){return this}if(d.type===1){j[0].appendTo(e)}setInterval(function(){if(f>=g-1){f=0}else if(f<0){f=g-1}else{f+=1}k[d.type](f)},d.interval+d.duration);return this};o.JLINE=o.jl=r}(jQuery,window,document));

